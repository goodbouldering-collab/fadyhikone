# ãƒ•ã‚¡ãƒ‡ã‚£ãƒ¼å½¦æ ¹ å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - å®Œå…¨ä½¿ç”¨æ›¸

**æœ€çµ‚æ›´æ–°æ—¥**: 2025å¹´11æœˆ13æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**ã‚·ã‚¹ãƒ†ãƒ å**: ãƒ•ã‚¡ãƒ‡ã‚£ãƒ¼å½¦æ ¹ å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆFurdi Hikone Health Management Systemï¼‰

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ )
4. [æ©Ÿèƒ½ä¸€è¦§](#æ©Ÿèƒ½ä¸€è¦§)
5. [ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰](#ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰)
6. [ç®¡ç†è€…å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰](#ç®¡ç†è€…å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰)
7. [APIä»•æ§˜](#apiä»•æ§˜)
8. [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
9. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)
10. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ğŸ¯ ç›®çš„
ãƒ•ã‚¡ãƒ‡ã‚£ãƒ¼å½¦æ ¹ã‚¸ãƒ ã®ä¼šå“¡å‘ã‘ã«ã€æ—¥ã€…ã®å¥åº·ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²ãƒ»ç®¡ç†ã—ã€AIã¨ã‚¹ã‚¿ãƒƒãƒ•ã«ã‚ˆã‚‹å°‚é–€çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

### ğŸŒŸ ä¸»è¦æ©Ÿèƒ½
- **å¥åº·ãƒ­ã‚°ç®¡ç†**: ä½“é‡ã€ä½“è„‚è‚ªç‡ã€ä½“æ¸©ã€ç¡çœ æ™‚é–“ã€é‹å‹•æ™‚é–“ã€ä½“èª¿è¨˜éŒ²
- **é£Ÿäº‹è¨˜éŒ²**: æœé£Ÿãƒ»æ˜¼é£Ÿãƒ»å¤•é£Ÿã®å†™çœŸæ’®å½±ã¨AIåˆ†æã«ã‚ˆã‚‹æ „é¤Šç´ è‡ªå‹•è¨ˆç®—
- **AIã‚¢ãƒ‰ãƒã‚¤ã‚¹**: Gemini APIã«ã‚ˆã‚‹å¥åº·ãƒ‡ãƒ¼ã‚¿ã®åˆ†æã¨ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹
- **ã‚¹ã‚¿ãƒƒãƒ•ã‚µãƒãƒ¼ãƒˆ**: å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ã«ã‚ˆã‚‹å€‹åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã¨ã‚³ãƒ¡ãƒ³ãƒˆ
- **è³ªå•ãƒ»ç›¸è«‡æ©Ÿèƒ½**: åŒ¿åã§ã®è³ªå•æŠ•ç¨¿ã¨å›ç­”è¡¨ç¤º
- **ãŠçŸ¥ã‚‰ã›ç®¡ç†**: ã‚¸ãƒ ã‹ã‚‰ã®é‡è¦ãªãŠçŸ¥ã‚‰ã›ã®é…ä¿¡
- **ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–**: ã‚°ãƒ©ãƒ•ã¨çµ±è¨ˆã«ã‚ˆã‚‹å¥åº·ãƒ‡ãƒ¼ã‚¿ã®è¦–è¦šåŒ–

### ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«
1. **ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆuserï¼‰**: ã‚¸ãƒ ä¼šå“¡
2. **ç®¡ç†è€…ï¼ˆadminï¼‰**: ã‚¹ã‚¿ãƒƒãƒ•ãƒ»ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼
3. **ã‚¹ãƒ¼ãƒ‘ãƒ¼ç®¡ç†è€…ï¼ˆsuperadminï¼‰**: ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **HTML/CSS/JavaScript** (Vanilla JS)
- **Tailwind CSS** (CDN)
- **Day.js** (æ—¥ä»˜å‡¦ç†)
- **Axios** (HTTPé€šä¿¡)
- **SweetAlert2** (ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»é€šçŸ¥)
- **Font Awesome** (ã‚¢ã‚¤ã‚³ãƒ³)
- **Chart.js** (ã‚°ãƒ©ãƒ•æç”»)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Hono Framework** (v4.0+)
- **TypeScript** (v5.0+)
- **Cloudflare Workers** (ã‚¨ãƒƒã‚¸ãƒ©ãƒ³ã‚¿ã‚¤ãƒ )
- **Cloudflare Pages** (ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Cloudflare D1** (SQLiteäº’æ›ã®åˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)

### AI/æ©Ÿæ¢°å­¦ç¿’
- **Google Gemini 1.5 Flash** (å¥åº·ãƒ‡ãƒ¼ã‚¿åˆ†æ)
- **Google Gemini 1.5 Pro Vision** (é£Ÿäº‹å†™çœŸåˆ†æ)

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **Cloudflare R2** (ç”»åƒä¿å­˜)

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **Vite** (v5.0+) - ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **Wrangler** (v3.78+) - Cloudflare CLI
- **PM2** - ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ï¼ˆé–‹ç™ºç’°å¢ƒï¼‰
- **Git** - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

### ğŸ“Š ERå›³æ¦‚è¦

```
users (ãƒ¦ãƒ¼ã‚¶ãƒ¼)
  â†“ 1:N
health_logs (å¥åº·ãƒ­ã‚°)
  â†“ 1:N
meals (é£Ÿäº‹è¨˜éŒ²)
  â†“ 1:N
meal_photos (é£Ÿäº‹å†™çœŸ)

users
  â†“ 1:N
advices (ã‚¢ãƒ‰ãƒã‚¤ã‚¹)

users
  â†“ 1:N
staff_comments (ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆ)

users
  â†“ 1:N
opinion_box (è³ªå•ãƒ»ç›¸è«‡)

announcements (ãŠçŸ¥ã‚‰ã›) - ç‹¬ç«‹
inquiries (ãŠå•ã„åˆã‚ã›) - ç‹¬ç«‹
settings (ã‚·ã‚¹ãƒ†ãƒ è¨­å®š) - ç‹¬ç«‹
```

### ğŸ—„ï¸ ãƒ†ãƒ¼ãƒ–ãƒ«è©³ç´°

#### 1. usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
ä¼šå“¡ã®åŸºæœ¬æƒ…å ±ã¨èªè¨¼ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| email | TEXT | NO | - | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰ |
| name | TEXT | NO | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| auth_provider | TEXT | NO | - | èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆ'google', 'local'ï¼‰ |
| auth_provider_id | TEXT | NO | - | ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| role | TEXT | YES | 'user' | ãƒ­ãƒ¼ãƒ«ï¼ˆ'user', 'admin', 'superadmin'ï¼‰ |
| avatar_url | TEXT | YES | NULL | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒURL |
| height | REAL | YES | NULL | èº«é•·ï¼ˆcmï¼‰ |
| birth_date | TEXT | YES | NULL | ç”Ÿå¹´æœˆæ—¥ï¼ˆYYYY-MM-DDï¼‰ |
| gender | TEXT | YES | NULL | æ€§åˆ¥ï¼ˆ'male', 'female', 'other'ï¼‰ |
| phone | TEXT | YES | NULL | é›»è©±ç•ªå· |
| goal | TEXT | YES | NULL | å¥åº·ç›®æ¨™ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- UNIQUE INDEX on `email`
- INDEX on `auth_provider, auth_provider_id`

#### 2. health_logsï¼ˆå¥åº·ãƒ­ã‚°ï¼‰
æ—¥ã€…ã®å¥åº·ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| user_id | INTEGER | NO | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| log_date | DATE | NO | - | è¨˜éŒ²æ—¥ï¼ˆYYYY-MM-DDï¼‰ |
| weight | REAL | YES | NULL | ä½“é‡ï¼ˆkgï¼‰ |
| body_fat_percentage | REAL | YES | NULL | ä½“è„‚è‚ªç‡ï¼ˆ%ï¼‰ |
| body_temperature | REAL | YES | NULL | ä½“æ¸©ï¼ˆâ„ƒï¼‰ |
| sleep_hours | REAL | YES | NULL | ç¡çœ æ™‚é–“ï¼ˆæ™‚é–“ï¼‰ |
| exercise_minutes | INTEGER | YES | NULL | é‹å‹•æ™‚é–“ï¼ˆåˆ†ï¼‰ |
| condition_rating | INTEGER | YES | 3 | ä½“èª¿è©•ä¾¡ï¼ˆ1-5ï¼‰ |
| condition_note | TEXT | YES | NULL | ä½“èª¿ãƒ¡ãƒ¢ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `user_id, log_date`
- UNIQUE INDEX on `user_id, log_date` (1æ—¥1ãƒ¬ã‚³ãƒ¼ãƒ‰)

**è¨ˆç®—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆJOINæ™‚ï¼‰**:
- `total_calories`: meals ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆ
- `total_protein`: meals ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆ
- `total_carbs`: meals ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆ
- `total_fat`: meals ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆ
- `bmi`: weight / (height/100)^2

#### 3. mealsï¼ˆé£Ÿäº‹è¨˜éŒ²ï¼‰
é£Ÿäº‹ã”ã¨ã®æ „é¤Šæƒ…å ±ã‚’è¨˜éŒ²

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| health_log_id | INTEGER | NO | - | å¥åº·ãƒ­ã‚°IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| meal_type | TEXT | NO | - | é£Ÿäº‹ã‚¿ã‚¤ãƒ—ï¼ˆ'breakfast', 'lunch', 'dinner'ï¼‰ |
| calories | INTEGER | YES | 0 | ã‚«ãƒ­ãƒªãƒ¼ï¼ˆkcalï¼‰ |
| protein | REAL | YES | 0 | ã‚¿ãƒ³ãƒ‘ã‚¯è³ªï¼ˆgï¼‰ |
| carbs | REAL | YES | 0 | ç‚­æ°´åŒ–ç‰©ï¼ˆgï¼‰ |
| fat | REAL | YES | 0 | è„‚è³ªï¼ˆgï¼‰ |
| ai_analysis_text | TEXT | YES | NULL | AIåˆ†æãƒ†ã‚­ã‚¹ãƒˆ |
| ai_confidence | REAL | YES | NULL | AIä¿¡é ¼åº¦ï¼ˆ0-1ï¼‰ |
| input_method | TEXT | YES | 'manual' | å…¥åŠ›æ–¹æ³•ï¼ˆ'manual', 'photo', 'ai'ï¼‰ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `health_log_id, meal_type`

#### 4. meal_photosï¼ˆé£Ÿäº‹å†™çœŸï¼‰
é£Ÿäº‹å†™çœŸã®URLç®¡ç†

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| meal_id | INTEGER | NO | - | é£Ÿäº‹IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| photo_url | TEXT | NO | - | å†™çœŸURLï¼ˆR2ãƒã‚±ãƒƒãƒˆï¼‰ |
| photo_order | INTEGER | YES | 1 | å†™çœŸã®é †åº |
| uploaded_at | DATETIME | YES | CURRENT_TIMESTAMP | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `meal_id`

#### 5. advicesï¼ˆã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼‰
AIã¨ã‚¹ã‚¿ãƒƒãƒ•ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ä¿å­˜

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| user_id | INTEGER | NO | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| staff_name | TEXT | NO | - | ã‚¹ã‚¿ãƒƒãƒ•åï¼ˆAIã®å ´åˆã¯'AI Assistant'ï¼‰ |
| advice_type | TEXT | NO | - | ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚¿ã‚¤ãƒ—ï¼ˆ'nutrition', 'exercise', 'sleep', 'general'ï¼‰ |
| title | TEXT | NO | - | ã‚¿ã‚¤ãƒˆãƒ« |
| content | TEXT | NO | - | ã‚¢ãƒ‰ãƒã‚¤ã‚¹å†…å®¹ |
| is_read | BOOLEAN | YES | 0 | æ—¢èª­ãƒ•ãƒ©ã‚° |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| log_date | TEXT | YES | NULL | å¯¾è±¡æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰ |
| advice_source | TEXT | YES | 'staff' | ã‚½ãƒ¼ã‚¹ï¼ˆ'staff', 'ai'ï¼‰ |
| ai_analysis_data | TEXT | YES | NULL | AIåˆ†æãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰ |
| confidence_score | REAL | YES | NULL | ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ï¼ˆ0-1ï¼‰ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `user_id, created_at DESC`
- INDEX on `user_id, is_read`

#### 6. staff_commentsï¼ˆã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆï¼‰
ã‚¹ã‚¿ãƒƒãƒ•ã‹ã‚‰ä¼šå“¡ã¸ã®å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| user_id | INTEGER | NO | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| staff_name | TEXT | NO | - | ã‚¹ã‚¿ãƒƒãƒ•å |
| comment | TEXT | NO | - | ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `user_id, created_at DESC`

#### 7. announcementsï¼ˆãŠçŸ¥ã‚‰ã›ï¼‰
ã‚¸ãƒ ã‹ã‚‰ã®å…¨ä½“å‘ŠçŸ¥

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| title | TEXT | NO | - | ã‚¿ã‚¤ãƒˆãƒ« |
| content | TEXT | NO | - | å†…å®¹ |
| image_url | TEXT | YES | NULL | ç”»åƒURL |
| is_published | BOOLEAN | YES | 1 | å…¬é–‹ãƒ•ãƒ©ã‚° |
| published_at | DATETIME | YES | CURRENT_TIMESTAMP | å…¬é–‹æ—¥æ™‚ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `is_published, published_at DESC`

#### 8. opinion_boxï¼ˆè³ªå•ãƒ»ç›¸è«‡ï¼‰
ä¼šå“¡ã‹ã‚‰ã®è³ªå•ã¨å›ç­”

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| user_id | INTEGER | NO | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| question | TEXT | NO | - | è³ªå•å†…å®¹ |
| answer | TEXT | YES | NULL | å›ç­”å†…å®¹ |
| status | TEXT | NO | 'pending' | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ'pending', 'answered'ï¼‰ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | è³ªå•æ—¥æ™‚ |
| answered_at | DATETIME | YES | NULL | å›ç­”æ—¥æ™‚ |
| answered_by | TEXT | YES | NULL | å›ç­”è€…å |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `user_id, created_at DESC`
- INDEX on `status`

#### 9. inquiriesï¼ˆãŠå•ã„åˆã‚ã›ï¼‰
ãƒ­ã‚°ã‚¤ãƒ³å‰ã®ãŠå•ã„åˆã‚ã›

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| name | TEXT | NO | - | åå‰ |
| email | TEXT | NO | - | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |
| phone | TEXT | YES | NULL | é›»è©±ç•ªå· |
| subject | TEXT | NO | - | ä»¶å |
| message | TEXT | NO | - | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| status | TEXT | YES | 'pending' | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ'pending', 'processing', 'resolved'ï¼‰ |
| admin_reply | TEXT | YES | NULL | ç®¡ç†è€…è¿”ä¿¡ |
| created_at | DATETIME | YES | CURRENT_TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**:
- INDEX on `status, created_at DESC`

#### 10. settingsï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­å®šï¼‰
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

| ã‚«ãƒ©ãƒ å | å‹ | NULL | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|---------|-----|------|-----------|------|
| id | INTEGER | NO | AUTO | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ |
| setting_key | TEXT | NO | - | è¨­å®šã‚­ãƒ¼ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰ |
| setting_value | TEXT | NO | - | è¨­å®šå€¤ |
| description | TEXT | YES | NULL | èª¬æ˜ |
| updated_at | DATETIME | YES | CURRENT_TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

**è¨­å®šä¾‹**:
- `gemini_api_key`: Gemini APIã‚­ãƒ¼
- `r2_bucket_name`: R2ãƒã‚±ãƒƒãƒˆå
- `maintenance_mode`: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆ'on', 'off'ï¼‰

---

## æ©Ÿèƒ½ä¸€è¦§

### ğŸ  ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆindex.htmlï¼‰

#### ãƒ­ã‚°ã‚¤ãƒ³å‰
- **Hero ã‚»ã‚¯ã‚·ãƒ§ãƒ³**: ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã¨AI/ãƒ—ãƒ­æŒ‡å°/ãƒ‡ãƒ¼ã‚¿ã®3ã¤ã®ç‰¹å¾´è¡¨ç¤º
- **ãŠçŸ¥ã‚‰ã›è¡¨ç¤º**: æœ€æ–°2ä»¶ã®ãŠçŸ¥ã‚‰ã›ï¼ˆè©³ç´°è¡¨ç¤ºãƒ»ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½ä»˜ãï¼‰
- **Googleãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³**: OAuth2.0èªè¨¼

#### ãƒ­ã‚°ã‚¤ãƒ³å¾Œ
- **ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰Hero**: ãƒ¦ãƒ¼ã‚¶ãƒ¼åè¡¨ç¤º
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¹ã‚¿ãƒƒãƒ„**: ã‚«ãƒ­ãƒªãƒ¼ãƒ»é‹å‹•æ™‚é–“ãƒ»ä½“é‡ã®å††å½¢è¡¨ç¤ºï¼ˆã‚¯ãƒªãƒƒã‚¯ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
- **ä»Šæ—¥ã®è¨˜éŒ²ã‚µãƒãƒªãƒ¼**: ä½“é‡ã€é£Ÿäº‹ã€é‹å‹•ã€ç¡çœ ã€ä½“æ¸©ã€ä½“èª¿ãƒ¡ãƒ¢ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ
- **ãŠçŸ¥ã‚‰ã›è¡¨ç¤º**: æœ€æ–°2ä»¶ã®ãŠçŸ¥ã‚‰ã›

#### å¥åº·ãƒ­ã‚°è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
1. **æ—¥ä»˜é¸æŠ**: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰éå»ã®æ—¥ä»˜ã‚‚é¸æŠå¯èƒ½
2. **ã“ã®æ—¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹è¡¨ç¤º**: AIãƒ»ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’2åˆ—è¡¨ç¤º
3. **å…¥åŠ›ã‚¨ãƒªã‚¢ãƒãƒŠãƒ¼**: ç·‘è‰²ã®æ˜ç¤ºçš„ãªå…¥åŠ›é–‹å§‹è¡¨ç¤º
4. **ä½“é‡ & BMI**: 
   - ä½“é‡å…¥åŠ›ï¼ˆ0.1kgå˜ä½ï¼‰
   - èº«é•·ã‹ã‚‰è‡ªå‹•BMIè¨ˆç®—
   - BMIåˆ¤å®šè¡¨ç¤ºï¼ˆä½ä½“é‡/æ¨™æº–/è‚¥æº€ï¼‰
5. **ä½“èª¿è©•ä¾¡**:
   - 5æ®µéšè©•ä¾¡ï¼ˆçµµæ–‡å­—é¸æŠï¼‰
   - ä½“èª¿ãƒ¡ãƒ¢ï¼ˆè‡ªç”±è¨˜è¿°ï¼‰
6. **é£Ÿäº‹è¨˜éŒ²ï¼ˆæœé£Ÿãƒ»æ˜¼é£Ÿãƒ»å¤•é£Ÿï¼‰**:
   - **å†™çœŸæ’®å½±**: ã‚«ãƒ¡ãƒ©èµ·å‹•ã§é£Ÿäº‹æ’®å½±ï¼ˆæœ€å¤§5æš/é£Ÿï¼‰
   - **AIåˆ†æ**: Gemini Vision APIã§è‡ªå‹•æ „é¤Šç´ è¨ˆç®—
   - **æ‰‹å‹•å…¥åŠ›**: ã‚«ãƒ­ãƒªãƒ¼ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã€ç‚­æ°´åŒ–ç‰©ã€è„‚è³ª
   - **å†™çœŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤ºã¨å‰Šé™¤æ©Ÿèƒ½
7. **é‹å‹•è¨˜éŒ²**:
   - ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠï¼ˆã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°/ã‚¸ãƒ§ã‚®ãƒ³ã‚°/ç­‹ãƒˆãƒ¬/ãƒ¨ã‚¬/ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°/æ°´æ³³/ã‚¹ãƒˆãƒ¬ãƒƒãƒ/ãã®ä»–ï¼‰
   - é‹å‹•æ™‚é–“å…¥åŠ›ï¼ˆåˆ†ï¼‰
8. **ãã®ä»–ã®è¨˜éŒ²**:
   - ä½“è„‚è‚ªç‡ï¼ˆ%ï¼‰
   - ç¡çœ æ™‚é–“ï¼ˆæ™‚é–“ï¼‰
   - ä½“æ¸©ï¼ˆâ„ƒï¼‰
9. **ä¿å­˜ãƒœã‚¿ãƒ³**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ & AIåˆ†æãƒˆãƒªã‚¬ãƒ¼

#### ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³
- æœ€æ–°ã®ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆè¡¨ç¤º
- ã‚¹ã‚¿ãƒƒãƒ•åã€æ—¥æ™‚ã€ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹
- æœªèª­ãƒãƒƒã‚¸è¡¨ç¤º

#### è³ªå•ãƒ»ç›¸è«‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆQ&Aï¼‰
- å›ç­”æ¸ˆã¿ã®è³ªå•ã®ã¿è¡¨ç¤º
- è³ªå•å†…å®¹ã€å›ç­”å†…å®¹ã€å›ç­”è€…ã€æ—¥æ™‚
- æŠ˜ã‚ŠãŸãŸã¿è¡¨ç¤ºï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰

### ğŸ‘¤ ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼ˆmypage.htmlï¼‰

#### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š
- **åŸºæœ¬æƒ…å ±**:
  - åå‰
  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  - é›»è©±ç•ªå·
- **èº«ä½“æƒ…å ±**:
  - èº«é•·ï¼ˆcmï¼‰- å›ºå®šå€¤ã¨ã—ã¦ä¿å­˜
  - ç”Ÿå¹´æœˆæ—¥
  - æ€§åˆ¥ï¼ˆç”·æ€§/å¥³æ€§/ãã®ä»–ï¼‰
- **å¥åº·ç›®æ¨™**:
  - è‡ªç”±è¨˜è¿°ï¼ˆä¾‹ï¼š5kgæ¸›é‡ã€ç­‹åŠ›ã‚¢ãƒƒãƒ—ï¼‰

#### ã‚¢ãƒ‰ãƒã‚¤ã‚¹ä¸€è¦§
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**:
  - å…¨ã¦ / AI / ã‚¹ã‚¿ãƒƒãƒ•
  - æœªèª­ã®ã¿è¡¨ç¤º
- **è¡¨ç¤ºå†…å®¹**:
  - ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚½ãƒ¼ã‚¹ï¼ˆAI/ã‚¹ã‚¿ãƒƒãƒ•ï¼‰
  - ã‚¿ã‚¤ãƒˆãƒ«
  - å†…å®¹
  - å¯¾è±¡æ—¥ä»˜
  - æ—¢èª­/æœªèª­ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  - ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ï¼ˆAIã®å ´åˆï¼‰
- **è©³ç´°è¡¨ç¤º**: ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- **æ—¢èª­ãƒãƒ¼ã‚¯**: è©³ç´°è¡¨ç¤ºæ™‚ã«è‡ªå‹•æ—¢èª­

#### å¥åº·ãƒ‡ãƒ¼ã‚¿ã‚°ãƒ©ãƒ•
- **ä½“é‡æ¨ç§»**: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆéå»30æ—¥ï¼‰
- **BMIæ¨ç§»**: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆéå»30æ—¥ï¼‰
- **ã‚«ãƒ­ãƒªãƒ¼æ‘‚å–é‡**: æ£’ã‚°ãƒ©ãƒ•ï¼ˆéå»7æ—¥ï¼‰
- **é‹å‹•æ™‚é–“**: æ£’ã‚°ãƒ©ãƒ•ï¼ˆéå»7æ—¥ï¼‰
- **ä½“èª¿è©•ä¾¡**: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆéå»7æ—¥ï¼‰

#### è³ªå•ãƒ»ç›¸è«‡æŠ•ç¨¿
- **è³ªå•ãƒ•ã‚©ãƒ¼ãƒ **:
  - è³ªå•å†…å®¹ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ï¼‰
  - åŒ¿åæŠ•ç¨¿ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®ã¿ä¿å­˜ï¼‰
- **æŠ•ç¨¿å±¥æ­´**:
  - è‡ªåˆ†ã®è³ªå•ä¸€è¦§
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆå›ç­”å¾…ã¡/å›ç­”æ¸ˆã¿ï¼‰
  - å›ç­”å†…å®¹è¡¨ç¤º

### ğŸ”§ ç®¡ç†è€…ãƒšãƒ¼ã‚¸ï¼ˆadmin.htmlï¼‰

#### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- **çµ±è¨ˆæƒ…å ±**:
  - ç·ä¼šå“¡æ•°
  - ä»Šæ—¥ã®ãƒ­ã‚°ã‚¤ãƒ³æ•°
  - æœªèª­ã‚¢ãƒ‰ãƒã‚¤ã‚¹æ•°
  - æœªå›ç­”ã®è³ªå•æ•°
- **æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£**:
  - æ–°è¦ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼
  - æœ€æ–°ã®å¥åº·ãƒ­ã‚°
  - æœ€æ–°ã®è³ªå•

#### ä¼šå“¡ç®¡ç†
- **ä¼šå“¡ä¸€è¦§**:
  - æ¤œç´¢æ©Ÿèƒ½ï¼ˆåå‰ãƒ»ãƒ¡ãƒ¼ãƒ«ï¼‰
  - ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆãƒ­ãƒ¼ãƒ«ãƒ»ç™»éŒ²æ—¥ï¼‰
  - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
- **ä¼šå“¡è©³ç´°**:
  - åŸºæœ¬æƒ…å ±è¡¨ç¤º
  - å¥åº·ãƒ‡ãƒ¼ã‚¿å±¥æ­´
  - ã‚¢ãƒ‰ãƒã‚¤ã‚¹å±¥æ­´
  - ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿
  - ãƒ­ãƒ¼ãƒ«å¤‰æ›´ï¼ˆadminæ¨©é™ã®ã¿ï¼‰

#### ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç®¡ç†
- **ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ãƒ‰ãƒã‚¤ã‚¹ä½œæˆ**:
  - å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ
  - ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚¿ã‚¤ãƒ—é¸æŠ
  - ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹å…¥åŠ›
  - å¯¾è±¡æ—¥ä»˜æŒ‡å®š
- **ã‚¢ãƒ‰ãƒã‚¤ã‚¹ä¸€è¦§**:
  - AI/ã‚¹ã‚¿ãƒƒãƒ•åˆ¥è¡¨ç¤º
  - ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
  - æ—¢èª­ç‡è¡¨ç¤º

#### ãŠçŸ¥ã‚‰ã›ç®¡ç†
- **ãŠçŸ¥ã‚‰ã›ä½œæˆ**:
  - ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹å…¥åŠ›
  - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆR2ï¼‰
  - å…¬é–‹/éå…¬é–‹è¨­å®š
  - å…¬é–‹æ—¥æ™‚è¨­å®š
- **ãŠçŸ¥ã‚‰ã›ä¸€è¦§**:
  - ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
  - å…¬é–‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ‡æ›¿

#### è³ªå•ãƒ»ç›¸è«‡ç®¡ç†
- **æœªå›ç­”è³ªå•ä¸€è¦§**:
  - è³ªå•å†…å®¹è¡¨ç¤º
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è¡¨ç¤º
  - å›ç­”ãƒ•ã‚©ãƒ¼ãƒ 
- **å›ç­”æ¸ˆã¿è³ªå•ä¸€è¦§**:
  - å›ç­”å†…å®¹ç·¨é›†
  - å‰Šé™¤æ©Ÿèƒ½

#### ãŠå•ã„åˆã‚ã›ç®¡ç†
- **ãŠå•ã„åˆã‚ã›ä¸€è¦§**:
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  - è©³ç´°è¡¨ç¤º
  - è¿”ä¿¡æ©Ÿèƒ½
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

#### ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
- **APIè¨­å®š**:
  - Gemini APIã‚­ãƒ¼
  - R2ãƒã‚±ãƒƒãƒˆè¨­å®š
- **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰**:
  - ã‚ªãƒ³/ã‚ªãƒ•åˆ‡æ›¿
  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®š

---

## ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰

### ğŸš€ åˆå›ãƒ­ã‚°ã‚¤ãƒ³

1. **Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³**
   - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠ
   - æ¨©é™ã‚’è¨±å¯

2. **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š**
   - ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€ã‚’é¸æŠ
   - èº«é•·ã€ç”Ÿå¹´æœˆæ—¥ã€æ€§åˆ¥ã‚’å…¥åŠ›
   - å¥åº·ç›®æ¨™ã‚’è¨˜å…¥
   - ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### ğŸ“ å¥åº·ãƒ­ã‚°ã®è¨˜éŒ²æ–¹æ³•

#### æ¯æ—¥ã®è¨˜éŒ²æ‰‹é †

1. **æ—¥ä»˜é¸æŠ**
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ä»Šæ—¥
   - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦éå»ã®æ—¥ä»˜ã‚‚é¸æŠå¯èƒ½

2. **ä½“é‡å…¥åŠ›**
   - ä½“é‡ã‚’0.1kgå˜ä½ã§å…¥åŠ›
   - BMIãŒè‡ªå‹•è¨ˆç®—ã•ã‚Œã‚‹
   - åˆ¤å®šï¼ˆä½ä½“é‡/æ¨™æº–/è‚¥æº€ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

3. **ä½“èª¿è©•ä¾¡**
   - 5æ®µéšã®çµµæ–‡å­—ã‹ã‚‰é¸æŠ
     - ğŸ˜« ã¨ã¦ã‚‚æ‚ªã„ï¼ˆ1ï¼‰
     - ğŸ˜Ÿ æ‚ªã„ï¼ˆ2ï¼‰
     - ğŸ˜ æ™®é€šï¼ˆ3ï¼‰
     - ğŸ™‚ è‰¯ã„ï¼ˆ4ï¼‰
     - ğŸ˜„ ã¨ã¦ã‚‚è‰¯ã„ï¼ˆ5ï¼‰
   - å…·ä½“çš„ãªç—‡çŠ¶ã‚„æ°—åˆ†ã‚’ãƒ¡ãƒ¢ã«è¨˜å…¥

4. **é£Ÿäº‹è¨˜éŒ²ï¼ˆæ¨å¥¨æ‰‹é †ï¼‰**
   
   **A. å†™çœŸæ’®å½±ã§è‡ªå‹•åˆ†æï¼ˆæ¨å¥¨ï¼‰**
   - ğŸ“· ã‚«ãƒ¡ãƒ©ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
   - é£Ÿäº‹å…¨ä½“ãŒæ˜ ã‚‹ã‚ˆã†ã«æ’®å½±
   - æœ€å¤§5æšã¾ã§æ’®å½±å¯èƒ½
   - ã€ŒAIåˆ†æã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - 10-15ç§’ã§ã‚«ãƒ­ãƒªãƒ¼ãƒ»æ „é¤Šç´ ãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œã‚‹
   
   **B. æ‰‹å‹•å…¥åŠ›**
   - å„æ „é¤Šç´ ã‚’ç›´æ¥å…¥åŠ›
     - ã‚«ãƒ­ãƒªãƒ¼ï¼ˆkcalï¼‰
     - ã‚¿ãƒ³ãƒ‘ã‚¯è³ªï¼ˆgï¼‰
     - ç‚­æ°´åŒ–ç‰©ï¼ˆgï¼‰
     - è„‚è³ªï¼ˆgï¼‰

5. **é‹å‹•è¨˜éŒ²**
   - ãƒ—ãƒªã‚»ãƒƒãƒˆã‹ã‚‰é‹å‹•ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ
   - é‹å‹•æ™‚é–“ï¼ˆåˆ†ï¼‰ã‚’å…¥åŠ›

6. **ãã®ä»–ã®è¨˜éŒ²ï¼ˆä»»æ„ï¼‰**
   - ä½“è„‚è‚ªç‡ï¼ˆä½“çµ„æˆè¨ˆãŒã‚ã‚‹å ´åˆï¼‰
   - ç¡çœ æ™‚é–“
   - ä½“æ¸©

7. **ä¿å­˜**
   - ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - AIã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ï¼‰

### ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã®ç¢ºèªæ–¹æ³•

#### ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
- ã€Œã“ã®æ—¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¡¨ç¤º
- AIãƒ»ã‚¹ã‚¿ãƒƒãƒ•ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒä¸¦ã‚“ã§è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°è¡¨ç¤º

#### ãƒã‚¤ãƒšãƒ¼ã‚¸
1. ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ â†’ ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€
2. ã€Œã‚¢ãƒ‰ãƒã‚¤ã‚¹ä¸€è¦§ã€ã‚¿ãƒ–ã‚’é¸æŠ
3. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§çµã‚Šè¾¼ã¿
   - å…¨ã¦ / AI / ã‚¹ã‚¿ãƒƒãƒ•
   - æœªèª­ã®ã¿
4. ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°è¡¨ç¤º
5. æ—¢èª­ãƒãƒ¼ã‚¯ãŒè‡ªå‹•ã§ä»˜ã

### ğŸ“Š å¥åº·ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªæ–¹æ³•

1. **ãƒã‚¤ãƒšãƒ¼ã‚¸ã®ã‚°ãƒ©ãƒ•**
   - ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ â†’ ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€
   - ã€Œå¥åº·ãƒ‡ãƒ¼ã‚¿ã€ã‚¿ãƒ–ã‚’é¸æŠ
   - å„ã‚°ãƒ©ãƒ•ã§æ¨ç§»ã‚’ç¢ºèª
     - ä½“é‡ãƒ»BMIæ¨ç§»ï¼ˆ30æ—¥é–“ï¼‰
     - ã‚«ãƒ­ãƒªãƒ¼æ‘‚å–é‡ï¼ˆ7æ—¥é–“ï¼‰
     - é‹å‹•æ™‚é–“ï¼ˆ7æ—¥é–“ï¼‰
     - ä½“èª¿è©•ä¾¡ï¼ˆ7æ—¥é–“ï¼‰

2. **ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã‚µãƒãƒªãƒ¼**
   - ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®Heroã‚»ã‚¯ã‚·ãƒ§ãƒ³
   - ä»Šæ—¥ã®ã‚«ãƒ­ãƒªãƒ¼ãƒ»é‹å‹•æ™‚é–“ãƒ»ä½“é‡ã‚’å††å½¢è¡¨ç¤º
   - ã‚¯ãƒªãƒƒã‚¯ã§è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«

### â“ è³ªå•ãƒ»ç›¸è«‡ã®æŠ•ç¨¿æ–¹æ³•

1. **ãƒã‚¤ãƒšãƒ¼ã‚¸ã‹ã‚‰æŠ•ç¨¿**
   - ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ â†’ ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€
   - ã€Œè³ªå•ãƒ»ç›¸è«‡ã€ã‚¿ãƒ–ã‚’é¸æŠ
   - è³ªå•å†…å®¹ã‚’å…¥åŠ›
   - ã€ŒæŠ•ç¨¿ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

2. **å›ç­”ã®ç¢ºèª**
   - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã€ŒQ&Aã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
   - å›ç­”æ¸ˆã¿ã®è³ªå•ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°ã‚’å±•é–‹

### ğŸ“¢ ãŠçŸ¥ã‚‰ã›ã®ç¢ºèªæ–¹æ³•

1. **ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸**
   - Heroã‚»ã‚¯ã‚·ãƒ§ãƒ³ä¸‹éƒ¨ã«æœ€æ–°2ä»¶è¡¨ç¤º
   - ã€Œå…¨ã¦è¦‹ã‚‹ â†’ã€ã§ä¸€è¦§è¡¨ç¤º

2. **è©³ç´°è¡¨ç¤º**
   - ãŠçŸ¥ã‚‰ã›ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ¢ãƒ¼ãƒ€ãƒ«ã§å…¨æ–‡è¡¨ç¤º
   - ç”»åƒãŒã‚ã‚‹å ´åˆã¯è¡¨ç¤º

---

## ç®¡ç†è€…å‘ã‘ä½¿ç”¨ã‚¬ã‚¤ãƒ‰

### ğŸ” ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³

1. ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‹ã‚‰é€šå¸¸ãƒ­ã‚°ã‚¤ãƒ³
2. ç”»é¢å³ä¸Šã«ã€Œç®¡ç†è€…ãƒšãƒ¼ã‚¸ã€ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç®¡ç†ç”»é¢ã«ç§»å‹•

### ğŸ‘¥ ä¼šå“¡ç®¡ç†

#### ä¼šå“¡ä¸€è¦§ã®ç¢ºèª
1. ç®¡ç†ç”»é¢ â†’ ã€Œä¼šå“¡ç®¡ç†ã€ã‚¿ãƒ–
2. æ¤œç´¢ãƒãƒ¼ã§åå‰ãƒ»ãƒ¡ãƒ¼ãƒ«ã§æ¤œç´¢
3. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§çµã‚Šè¾¼ã¿
4. ä¼šå“¡ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°è¡¨ç¤º

#### ä¼šå“¡ã¸ã®å€‹åˆ¥ã‚µãƒãƒ¼ãƒˆ

**ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿**
1. ä¼šå“¡è©³ç´°ãƒšãƒ¼ã‚¸ã‚’é–‹ã
2. ã€Œã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
3. ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹ã‚’å…¥åŠ›
4. ã€Œé€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ä¼šå“¡ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã‚‹

**å€‹åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹ä½œæˆ**
1. ç®¡ç†ç”»é¢ â†’ ã€Œã‚¢ãƒ‰ãƒã‚¤ã‚¹ç®¡ç†ã€ã‚¿ãƒ–
2. ã€Œæ–°è¦ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€ãƒœã‚¿ãƒ³
3. å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’é¸æŠ
4. ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ
   - æ „é¤Š
   - é‹å‹•
   - ç¡çœ 
   - ç·åˆ
5. ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹ã‚’å…¥åŠ›
6. å¯¾è±¡æ—¥ä»˜ã‚’æŒ‡å®šï¼ˆä»»æ„ï¼‰
7. ã€Œé€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### ğŸ“¢ ãŠçŸ¥ã‚‰ã›ç®¡ç†

#### æ–°è¦ãŠçŸ¥ã‚‰ã›ä½œæˆ
1. ç®¡ç†ç”»é¢ â†’ ã€ŒãŠçŸ¥ã‚‰ã›ç®¡ç†ã€ã‚¿ãƒ–
2. ã€Œæ–°è¦ãŠçŸ¥ã‚‰ã›ã€ãƒœã‚¿ãƒ³
3. ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹ã‚’å…¥åŠ›
4. ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆä»»æ„ï¼‰
5. å…¬é–‹è¨­å®š
   - ã™ãã«å…¬é–‹
   - éå…¬é–‹ï¼ˆä¸‹æ›¸ãï¼‰
6. ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

#### ãŠçŸ¥ã‚‰ã›ç·¨é›†ãƒ»å‰Šé™¤
1. ãŠçŸ¥ã‚‰ã›ä¸€è¦§ã‹ã‚‰å¯¾è±¡ã‚’é¸æŠ
2. ã€Œç·¨é›†ã€ãƒœã‚¿ãƒ³ã§å†…å®¹å¤‰æ›´
3. ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã§å‰Šé™¤ï¼ˆç¢ºèªã‚ã‚Šï¼‰

### â“ è³ªå•ãƒ»ç›¸è«‡ã¸ã®å›ç­”

1. ç®¡ç†ç”»é¢ â†’ ã€Œè³ªå•ãƒ»ç›¸è«‡ç®¡ç†ã€ã‚¿ãƒ–
2. æœªå›ç­”ã®è³ªå•ä¸€è¦§ã‚’ç¢ºèª
3. è³ªå•ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å›ç­”å†…å®¹ã‚’å…¥åŠ›
5. ã€Œå›ç­”ã‚’é€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
6. è‡ªå‹•çš„ã«ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®Q&Aã«è¡¨ç¤ºã•ã‚Œã‚‹

### ğŸ“§ ãŠå•ã„åˆã‚ã›å¯¾å¿œ

1. ç®¡ç†ç”»é¢ â†’ ã€ŒãŠå•ã„åˆã‚ã›ç®¡ç†ã€ã‚¿ãƒ–
2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
   - æœªå¯¾å¿œ
   - å¯¾å¿œä¸­
   - å®Œäº†
3. ãŠå•ã„åˆã‚ã›è©³ç´°ã‚’ç¢ºèª
4. è¿”ä¿¡å†…å®¹ã‚’å…¥åŠ›
5. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°
6. ã€Œè¿”ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ è¨­å®š

#### APIè¨­å®š
1. ç®¡ç†ç”»é¢ â†’ ã€Œã‚·ã‚¹ãƒ†ãƒ è¨­å®šã€ã‚¿ãƒ–
2. ã€ŒAPIè¨­å®šã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
3. Gemini APIã‚­ãƒ¼ã‚’å…¥åŠ›
4. ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

#### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰
1. ç®¡ç†ç”»é¢ â†’ ã€Œã‚·ã‚¹ãƒ†ãƒ è¨­å®šã€ã‚¿ãƒ–
2. ã€Œãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã€ãƒˆã‚°ãƒ«
3. ã‚ªãƒ³ã«ã™ã‚‹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
4. ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®š

---

## APIä»•æ§˜

### èªè¨¼API

#### POST /api/auth/login
Googleãƒ­ã‚°ã‚¤ãƒ³ï¼ˆOAuth2.0ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ï¼‰

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "credential": "google_id_token"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "token": "jwt_token",
  "user": {
    "id": 1,
    "email": "user@example.com",
    "name": "å±±ç”°å¤ªéƒ",
    "role": "user",
    "avatar_url": "https://...",
    "height": 170.5,
    "birth_date": "1990-01-01",
    "gender": "male",
    "phone": "090-1234-5678",
    "goal": "5kgæ¸›é‡"
  }
}
```

#### GET /api/auth/verify
JWTãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "user": { /* user object */ }
}
```

#### PUT /api/auth/profile
ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "name": "å±±ç”°å¤ªéƒ",
  "email": "user@example.com",
  "phone": "090-1234-5678",
  "height": 170.5,
  "birth_date": "1990-01-01",
  "gender": "male",
  "goal": "5kgæ¸›é‡"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true
}
```

### å¥åº·ãƒ­ã‚°API

#### POST /api/health-logs
å¥åº·ãƒ­ã‚°ä½œæˆãƒ»æ›´æ–°

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "log_date": "2025-11-13",
  "weight": 65.5,
  "body_fat_percentage": 18.5,
  "body_temperature": 36.5,
  "sleep_hours": 7.5,
  "exercise_minutes": 45,
  "condition_rating": 4,
  "condition_note": "èª¿å­ãŒè‰¯ã„",
  "meals": {
    "breakfast": {
      "calories": 450,
      "protein": 20,
      "carbs": 60,
      "fat": 12,
      "photos": ["r2://path/to/photo1.jpg"],
      "input_method": "photo"
    },
    "lunch": { /* ... */ },
    "dinner": { /* ... */ }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "log_id": 123,
  "ai_advice_generated": true
}
```

#### GET /api/health-logs/:date
ç‰¹å®šæ—¥ã®å¥åº·ãƒ­ã‚°å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": {
    "id": 123,
    "user_id": 1,
    "log_date": "2025-11-13",
    "weight": 65.5,
    "body_fat_percentage": 18.5,
    "body_temperature": 36.5,
    "sleep_hours": 7.5,
    "exercise_minutes": 45,
    "condition_rating": 4,
    "condition_note": "èª¿å­ãŒè‰¯ã„",
    "total_calories": 1850,
    "total_protein": 85,
    "total_carbs": 220,
    "total_fat": 55,
    "meals": [
      {
        "id": 456,
        "meal_type": "breakfast",
        "calories": 450,
        "protein": 20,
        "carbs": 60,
        "fat": 12,
        "photos": [
          {
            "id": 789,
            "photo_url": "https://r2.../photo1.jpg"
          }
        ]
      }
    ]
  }
}
```

#### GET /api/health-logs/range
æœŸé–“æŒ‡å®šã§å¥åº·ãƒ­ã‚°å–å¾—

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `start_date`: é–‹å§‹æ—¥ï¼ˆYYYY-MM-DDï¼‰
- `end_date`: çµ‚äº†æ—¥ï¼ˆYYYY-MM-DDï¼‰

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [ /* health_log objects */ ]
}
```

### é£Ÿäº‹å†™çœŸAIåˆ†æAPI

#### POST /api/health-logs/analyze-meal-photo
é£Ÿäº‹å†™çœŸã‚’AIåˆ†æ

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
Content-Type: multipart/form-data
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```
FormData:
- photo: File (JPEG/PNG)
- meal_type: "breakfast" | "lunch" | "dinner"
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "analysis": {
    "calories": 450,
    "protein": 20,
    "carbs": 60,
    "fat": 12,
    "description": "ã”é£¯ã€ç„¼ãé­šã€å‘³å™Œæ±ã€æ¼¬ç‰©",
    "confidence": 0.85
  },
  "photo_url": "https://r2.../photo_xxx.jpg"
}
```

### ã‚¢ãƒ‰ãƒã‚¤ã‚¹API

#### GET /api/advices
è‡ªåˆ†ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ä¸€è¦§å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `source`: "ai" | "staff" | "all" (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "all")
- `is_read`: "0" | "1" (æœªèª­ã®ã¿: "0")

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "user_id": 1,
      "staff_name": "AI Assistant",
      "advice_type": "nutrition",
      "title": "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹",
      "content": "æœ¬æ—¥ã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–é‡ãŒ...",
      "is_read": false,
      "created_at": "2025-11-13T08:00:00Z",
      "log_date": "2025-11-13",
      "advice_source": "ai",
      "confidence_score": 0.92
    }
  ]
}
```

#### PUT /api/advices/:id/read
ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æ—¢èª­ã«ã™ã‚‹

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true
}
```

#### GET /api/advices/unread-count
æœªèª­ã‚¢ãƒ‰ãƒã‚¤ã‚¹æ•°å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "count": 3
}
```

### ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆAPI

#### GET /api/comments/latest
æœ€æ–°ã®ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆå–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": {
    "id": 1,
    "staff_name": "ç”°ä¸­ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼",
    "comment": "æœ€è¿‘ã®ä½“é‡ç®¡ç†ãŒç´ æ™´ã‚‰ã—ã„ã§ã™ï¼",
    "created_at": "2025-11-13T10:00:00Z"
  }
}
```

#### POST /api/comments (ç®¡ç†è€…ã®ã¿)
ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "user_id": 1,
  "comment": "ç´ æ™´ã‚‰ã—ã„é€²æ—ã§ã™ï¼"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "id": 2
}
```

### ãŠçŸ¥ã‚‰ã›API

#### GET /api/announcements
å…¬é–‹ä¸­ã®ãŠçŸ¥ã‚‰ã›ä¸€è¦§å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "æ–°ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã”æ¡ˆå†…",
      "content": "ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ...",
      "image_url": "https://r2.../announcement1.jpg",
      "is_published": true,
      "published_at": "2025-11-13T09:00:00Z"
    }
  ]
}
```

#### POST /api/announcements/admin (ç®¡ç†è€…ã®ã¿)
ãŠçŸ¥ã‚‰ã›ä½œæˆ

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "title": "æ–°ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã”æ¡ˆå†…",
  "content": "ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ...",
  "image_url": "https://r2.../announcement1.jpg",
  "is_published": true
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "id": 2
}
```

### è³ªå•ãƒ»ç›¸è«‡API

#### POST /api/opinions
è³ªå•æŠ•ç¨¿

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "question": "ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ã¯ã„ã¤é£²ã‚€ã®ãŒåŠ¹æœçš„ã§ã™ã‹ï¼Ÿ"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "id": 1
}
```

#### GET /api/opinions/answered
å›ç­”æ¸ˆã¿è³ªå•ä¸€è¦§å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "question": "ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ã¯ã„ã¤é£²ã‚€ã®ãŒåŠ¹æœçš„ã§ã™ã‹ï¼Ÿ",
      "answer": "é‹å‹•å¾Œ30åˆ†ä»¥å†…ãŒæœ€ã‚‚åŠ¹æœçš„ã§ã™...",
      "status": "answered",
      "created_at": "2025-11-12T10:00:00Z",
      "answered_at": "2025-11-12T15:00:00Z",
      "answered_by": "ä½è—¤ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼"
    }
  ]
}
```

#### GET /api/opinions/my
è‡ªåˆ†ã®è³ªå•ä¸€è¦§å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [ /* opinion objects */ ]
}
```

### ç®¡ç†è€…API

#### GET /api/admin/users (ç®¡ç†è€…ã®ã¿)
å…¨ä¼šå“¡ä¸€è¦§å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `search`: æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- `role`: ãƒ­ãƒ¼ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `page`: ãƒšãƒ¼ã‚¸ç•ªå·
- `limit`: 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "data": [ /* user objects */ ],
  "total": 50,
  "page": 1,
  "limit": 20
}
```

#### GET /api/admin/users/:id (ç®¡ç†è€…ã®ã¿)
ä¼šå“¡è©³ç´°å–å¾—

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer jwt_token
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "user": { /* user object */ },
  "stats": {
    "total_logs": 30,
    "average_weight": 65.5,
    "average_calories": 1800,
    "total_exercise_minutes": 900
  },
  "recent_logs": [ /* health_log objects */ ]
}
```

---

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### å‰ææ¡ä»¶
- Node.js 18+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- npm 9+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- Git ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ¸ˆã¿
- Google Cloud Platformã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆOAuth2.0è¨­å®šç”¨ï¼‰
- Gemini APIã‚­ãƒ¼å–å¾—æ¸ˆã¿

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/your-repo/furdi-hikone.git
cd furdi-hikone
```

### 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š

#### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼ˆ.dev.varsï¼‰
```bash
cat > .dev.vars << 'EOF'
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
JWT_SECRET=your_jwt_secret_key_min_32_chars
GEMINI_API_KEY=your_gemini_api_key
EOF
```

**é‡è¦**: `.dev.vars`ã¯`.gitignore`ã«å«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€Gitã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¾ã›ã‚“ã€‚

### 4. Cloudflare D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ

```bash
# æœ¬ç•ªç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
npx wrangler d1 create furdi-hikone-production

# å‡ºåŠ›ã•ã‚ŒãŸdatabase_idã‚’ã‚³ãƒ”ãƒ¼
# wrangler.jsonc ã® d1_databases ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¨­å®š
```

#### wrangler.jsonc ç·¨é›†
```jsonc
{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "furdi-hikone",
  "compatibility_date": "2024-01-01",
  "pages_build_output_dir": "./dist",
  "compatibility_flags": ["nodejs_compat"],
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "furdi-hikone-production",
      "database_id": "YOUR_DATABASE_ID_HERE"  // â† ã“ã“ã«è¨­å®š
    }
  ]
}
```

### 5. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

#### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
```bash
# --local ãƒ•ãƒ©ã‚°ã§ãƒ­ãƒ¼ã‚«ãƒ«SQLiteã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx wrangler d1 migrations apply furdi-hikone-production --local
```

#### æœ¬ç•ªç’°å¢ƒ
```bash
# æœ¬ç•ªD1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx wrangler d1 migrations apply furdi-hikone-production
```

### 6. Cloudflare R2ãƒã‚±ãƒƒãƒˆä½œæˆ

```bash
# R2ãƒã‚±ãƒƒãƒˆä½œæˆ
npx wrangler r2 bucket create furdi-hikone-photos

# wrangler.jsonc ã«è¿½åŠ 
```

#### wrangler.jsonc ã« R2è¨­å®šè¿½åŠ 
```jsonc
{
  // ... æ—¢å­˜ã®è¨­å®š ...
  "r2_buckets": [
    {
      "binding": "BUCKET",
      "bucket_name": "furdi-hikone-photos"
    }
  ]
}
```

### 7. Google OAuth2.0è¨­å®š

1. [Google Cloud Console](https://console.cloud.google.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
3. ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€â†’ã€Œèªè¨¼æƒ…å ±ã€
4. ã€ŒOAuth 2.0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã€ä½œæˆ
   - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡: ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
   - æ‰¿èªæ¸ˆã¿ã®JavaScriptç”Ÿæˆå…ƒ: 
     - `http://localhost:3000` (é–‹ç™º)
     - `https://your-domain.pages.dev` (æœ¬ç•ª)
   - æ‰¿èªæ¸ˆã¿ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURI:
     - `http://localhost:3000` (é–‹ç™º)
     - `https://your-domain.pages.dev` (æœ¬ç•ª)
5. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’`.dev.vars`ã«è¨­å®š

### 8. Gemini APIè¨­å®š

1. [Google AI Studio](https://makersuite.google.com/app/apikey)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. APIã‚­ãƒ¼ã‚’ä½œæˆ
3. `.dev.vars`ã®`GEMINI_API_KEY`ã«è¨­å®š

### 9. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# PM2ã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pm2 start ecosystem.config.cjs

# ãƒ­ã‚°ç¢ºèª
pm2 logs furdi-hikone --nostream

# ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
pm2 delete furdi-hikone
```

### 10. ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª

```
http://localhost:3000
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

#### 1. Cloudflare APIèªè¨¼

```bash
npx wrangler login
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã€Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§èªè¨¼ã—ã¾ã™ã€‚

#### 2. Cloudflare Pages ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```bash
npx wrangler pages project create furdi-hikone \
  --production-branch main \
  --compatibility-date 2024-01-01
```

#### 3. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆæœ¬ç•ªç”¨ï¼‰

```bash
# JWT_SECRET
npx wrangler pages secret put JWT_SECRET --project-name furdi-hikone
# å…¥åŠ›ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€32æ–‡å­—ä»¥ä¸Šã®ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã‚’å…¥åŠ›

# GOOGLE_CLIENT_ID
npx wrangler pages secret put GOOGLE_CLIENT_ID --project-name furdi-hikone

# GOOGLE_CLIENT_SECRET
npx wrangler pages secret put GOOGLE_CLIENT_SECRET --project-name furdi-hikone

# GEMINI_API_KEY
npx wrangler pages secret put GEMINI_API_KEY --project-name furdi-hikone

# è¨­å®šç¢ºèª
npx wrangler pages secret list --project-name furdi-hikone
```

#### 4. æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```bash
npx wrangler d1 migrations apply furdi-hikone-production
```

#### 5. ãƒ“ãƒ«ãƒ‰ & ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ‡ãƒ—ãƒ­ã‚¤
npx wrangler pages deploy dist --project-name furdi-hikone
```

ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªURLãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š
```
âœ¨ Success! Uploaded 10 files (5.2 sec)

âœ¨ Deployment complete! Take a peek over at
   https://abc123.furdi-hikone.pages.dev
```

#### 6. ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
npx wrangler pages domain add your-domain.com --project-name furdi-hikone
```

### ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆGitHub Actionsï¼‰

#### .github/workflows/deploy.yml

```yaml
name: Deploy to Cloudflare Pages

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          
      - name: Install dependencies
        run: npm ci
        
      - name: Build
        run: npm run build
        
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/wrangler-action@v3
        with:
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          command: pages deploy dist --project-name furdi-hikone
```

#### GitHubã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š
1. GitHubãƒªãƒã‚¸ãƒˆãƒª â†’ Settings â†’ Secrets â†’ Actions
2. `CLOUDFLARE_API_TOKEN`ã‚’è¿½åŠ 
   - Cloudflare Dashboard â†’ My Profile â†’ API Tokens
   - ã€ŒEdit Cloudflare Workersã€æ¨©é™ã§ä½œæˆ

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„

**ç—‡çŠ¶**: Googleãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚åå¿œã—ãªã„

**åŸå› ã¨è§£æ±º**:
- Google OAuth2.0ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„
  â†’ `.dev.vars`ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
- JavaScriptã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹
  â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã‚’ç¢ºèª
- CookieãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹
  â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã®Cookieè¨­å®šã‚’ç¢ºèª

#### 2. å¥åº·ãƒ­ã‚°ãŒä¿å­˜ã§ããªã„

**ç—‡çŠ¶**: ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**åŸå› ã¨è§£æ±º**:
- JWTãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
  â†’ å†ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦ã™
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ¥ç¶šã‚¨ãƒ©ãƒ¼
  â†’ `wrangler d1 execute`ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  â†’ å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆæ—¥ä»˜ã€ä½“é‡ãªã©ï¼‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

#### 3. å†™çœŸãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ããªã„

**ç—‡çŠ¶**: é£Ÿäº‹å†™çœŸã‚’æ’®å½±ã—ã¦ã‚‚ä¿å­˜ã•ã‚Œãªã„

**åŸå› ã¨è§£æ±º**:
- R2ãƒã‚±ãƒƒãƒˆãŒä½œæˆã•ã‚Œã¦ã„ãªã„
  â†’ `npx wrangler r2 bucket create furdi-hikone-photos`
- R2ãƒã‚±ãƒƒãƒˆã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¨­å®šãŒæ­£ã—ããªã„
  â†’ `wrangler.jsonc`ã®`r2_buckets`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
- ç”»åƒã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹
  â†’ ç”»åƒã‚’åœ§ç¸®ã—ã¦ã‹ã‚‰å†è©¦è¡Œ

#### 4. AIåˆ†æãŒå‹•ä½œã—ãªã„

**ç—‡çŠ¶**: ã€ŒAIåˆ†æã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚æ „é¤Šç´ ãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œãªã„

**åŸå› ã¨è§£æ±º**:
- Gemini APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„
  â†’ `.dev.vars`ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
- APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’è¶…é
  â†’ Google Cloud Consoleã§ä½¿ç”¨é‡ã‚’ç¢ºèª
- ç”»åƒãŒä¸é®®æ˜
  â†’ é£Ÿäº‹å…¨ä½“ãŒæ˜ã‚‹ãæ˜ ã‚‹ã‚ˆã†ã«å†æ’®å½±

#### 5. ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `npm run build`ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**åŸå› ã¨è§£æ±º**:
- ä¾å­˜é–¢ä¿‚ãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„
  â†’ `rm -rf node_modules package-lock.json && npm install`
- TypeScriptã®ã‚¨ãƒ©ãƒ¼
  â†’ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¦è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£
- Viteã®è¨­å®šã‚¨ãƒ©ãƒ¼
  â†’ `vite.config.ts`ã‚’ç¢ºèª

#### 6. ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `wrangler pages deploy`ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**åŸå› ã¨è§£æ±º**:
- Cloudflareèªè¨¼ã‚¨ãƒ©ãƒ¼
  â†’ `npx wrangler login`ã§å†èªè¨¼
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåãŒé‡è¤‡
  â†’ åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã§å†ä½œæˆ
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™è¶…é
  â†’ ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ãƒ“ãƒ«ãƒ‰

#### 7. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼

**åŸå› ã¨è§£æ±º**:
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒå£Šã‚Œã¦ã„ã‚‹
  â†’ `migrations/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDãŒæ­£ã—ããªã„
  â†’ `wrangler.jsonc`ã®`database_id`ã‚’ç¢ºèª
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ—¢ã«å®Ÿè¡Œæ¸ˆã¿
  â†’ `d1_migrations`ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¢ºèª

#### 8. ç®¡ç†è€…ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**ç—‡çŠ¶**: ç®¡ç†è€…ãƒšãƒ¼ã‚¸ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› ã¨è§£æ±º**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ãƒ¼ãƒ«ãŒ'admin'ã¾ãŸã¯'superadmin'ã§ãªã„
  â†’ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ç›´æ¥ãƒ­ãƒ¼ãƒ«ã‚’å¤‰æ›´
  
  ```bash
  npx wrangler d1 execute furdi-hikone-production --local \
    --command="UPDATE users SET role='admin' WHERE email='admin@example.com'"
  ```

#### 9. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé…ã„

**ç—‡çŠ¶**: ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã‚„æ“ä½œãŒé…ã„

**åŸå› ã¨è§£æ±º**:
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ãªã„
  â†’ INDEXãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ç”»åƒãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ãªã„
  â†’ ç”»åƒã‚’åœ§ç¸®ã—ã¦R2ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- Cloudflare Workersã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ
  â†’ åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã¯é…ããªã‚‹ï¼ˆæ­£å¸¸ï¼‰

#### 10. ã‚°ãƒ©ãƒ•ãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç—‡çŠ¶**: ãƒã‚¤ãƒšãƒ¼ã‚¸ã®ã‚°ãƒ©ãƒ•ã‚¨ãƒªã‚¢ãŒç©ºç™½

**åŸå› ã¨è§£æ±º**:
- Chart.jsãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„
  â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§CDNã®èª­ã¿è¾¼ã¿ã‚’ç¢ºèª
- ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„
  â†’ å¥åº·ãƒ­ã‚°ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- JavaScriptã‚¨ãƒ©ãƒ¼
  â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã‚’ç¢ºèª

---

## ä»˜éŒ²

### A. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸè¨­å®šSQL

ãƒ†ã‚¹ãƒˆç”¨ã®åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã™ã‚‹å ´åˆï¼š

```sql
-- ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
INSERT INTO users (email, name, auth_provider, auth_provider_id, role, height, birth_date, gender, goal)
VALUES 
  ('admin@furdi-hikone.com', 'ç®¡ç†è€…', 'local', 'admin001', 'admin', 170.0, '1985-01-01', 'male', 'ã‚¸ãƒ é‹å–¶'),
  ('staff@furdi-hikone.com', 'ã‚¹ã‚¿ãƒƒãƒ•ç”°ä¸­', 'local', 'staff001', 'admin', 165.0, '1990-05-15', 'female', 'ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼æ¥­å‹™');

-- ãŠçŸ¥ã‚‰ã›ã‚µãƒ³ãƒ—ãƒ«
INSERT INTO announcements (title, content, is_published)
VALUES 
  ('æ–°ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã”æ¡ˆå†…', 'ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚è©³ç´°ã¯ã‚¹ã‚¿ãƒƒãƒ•ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚', 1),
  ('å–¶æ¥­æ™‚é–“å¤‰æ›´ã®ãŠçŸ¥ã‚‰ã›', '12æœˆ1æ—¥ã‚ˆã‚Šå–¶æ¥­æ™‚é–“ã‚’å¤‰æ›´ã„ãŸã—ã¾ã™ã€‚å¹³æ—¥: 10:00-22:00ã€åœŸæ—¥ç¥: 9:00-20:00ã¨ãªã‚Šã¾ã™ã€‚', 1),
  ('å¹´æœ«å¹´å§‹ã®å–¶æ¥­ã«ã¤ã„ã¦', '12æœˆ29æ—¥ã‹ã‚‰1æœˆ3æ—¥ã¾ã§å¹´æœ«å¹´å§‹ä¼‘æ¥­ã¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚', 1);

-- ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‚µãƒ³ãƒ—ãƒ«
INSERT INTO settings (setting_key, setting_value, description)
VALUES 
  ('maintenance_mode', 'off', 'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰'),
  ('max_photo_per_meal', '5', '1é£Ÿã‚ãŸã‚Šã®æœ€å¤§å†™çœŸæšæ•°'),
  ('ai_analysis_timeout', '30', 'AIåˆ†æã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰');
```

### B. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

```
migrations/
â”œâ”€â”€ 0001_initial_schema.sql         # åˆæœŸã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ 0002_add_advices.sql            # ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«
â”œâ”€â”€ 0003_add_staff_comments.sql     # ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ 0004_add_announcements.sql      # ãŠçŸ¥ã‚‰ã›
â”œâ”€â”€ 0005_add_opinion_box.sql        # è³ªå•ãƒ»ç›¸è«‡
â”œâ”€â”€ 0006_add_inquiries.sql          # ãŠå•ã„åˆã‚ã›
â”œâ”€â”€ 0007_add_settings.sql           # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
â”œâ”€â”€ 0008_add_meal_photos.sql        # é£Ÿäº‹å†™çœŸ
â”œâ”€â”€ 0009_add_ai_fields.sql          # AIé–¢é€£ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â””â”€â”€ 0010_optimize_user_profile.sql  # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æœ€é©åŒ–
```

### C. ç’°å¢ƒå¤‰æ•°ä¸€è¦§

| å¤‰æ•°å | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|--------|------|------|-----|
| GOOGLE_CLIENT_ID | âœ… | Google OAuthã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID | `123456789.apps.googleusercontent.com` |
| GOOGLE_CLIENT_SECRET | âœ… | Google OAuthã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ | `GOCSPX-xxx` |
| JWT_SECRET | âœ… | JWTç½²åç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ï¼ˆ32æ–‡å­—ä»¥ä¸Šï¼‰ | `your_super_secret_key_at_least_32_chars` |
| GEMINI_API_KEY | âœ… | Gemini APIã‚­ãƒ¼ | `AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX` |

### D. æ¨å¥¨é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **VSCodeæ‹¡å¼µæ©Ÿèƒ½**:
  - ESLint
  - Prettier
  - TypeScript Vue Plugin (Volar)
  - Cloudflare Workers
  - SQLite Viewer
  - Git Graph
  - GitLens

- **Chromeæ‹¡å¼µæ©Ÿèƒ½**:
  - React Developer Tools
  - Redux DevTools
  - Wappalyzer
  - JSON Formatter

### E. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ç”»åƒã®æœ€é©åŒ–ï¼ˆWebPå½¢å¼ã€åœ§ç¸®ï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹INDEXã®è¨­å®š
- [ ] ä¸è¦ãªAPIå‘¼ã³å‡ºã—ã®å‰Šæ¸›
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®å®Ÿè£…
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®æœ€é©åŒ–
- [ ] Lazy Loading ã®å®Ÿè£…
- [ ] CDNã®æ´»ç”¨
- [ ] Cloudflare Pages ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š

### F. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] JWTç½²åæ¤œè¨¼ã®å®Ÿè£…
- [ ] CORSè¨­å®šã®ç¢ºèª
- [ ] XSSå¯¾ç­–ï¼ˆå…¥åŠ›ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼‰
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆPrepared Statementsä½¿ç”¨ï¼‰
- [ ] æ©Ÿå¯†æƒ…å ±ã®ç’°å¢ƒå¤‰æ•°åŒ–
- [ ] HTTPSå¼·åˆ¶
- [ ] CSPï¼ˆContent Security Policyï¼‰è¨­å®š
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å®Ÿè£…

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆæƒ…å ±

### é–‹ç™ºè€…å‘ã‘ã‚µãƒãƒ¼ãƒˆ

- **GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/your-repo/furdi-hikone
- **Issueå ±å‘Š**: https://github.com/your-repo/furdi-hikone/issues
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ« + README.md

### ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚µãƒãƒ¼ãƒˆ

- **ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ **: ã‚¢ãƒ—ãƒªå†…ã®ã€ŒãŠå•ã„åˆã‚ã›ã€
- **é›»è©±**: 0749-XX-XXXXï¼ˆå–¶æ¥­æ™‚é–“: 10:00-22:00ï¼‰
- **ãƒ¡ãƒ¼ãƒ«**: support@furdi-hikone.com

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Copyright Â© 2025 ãƒ•ã‚¡ãƒ‡ã‚£ãƒ¼å½¦æ ¹  
All rights reserved.

ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã€ãƒ•ã‚¡ãƒ‡ã‚£ãƒ¼å½¦æ ¹ã‚¸ãƒ ã®å°‚æœ‰ç‰©ã§ã™ã€‚ç„¡æ–­è¤‡è£½ã€è»¢è¼‰ã€é…å¸ƒã‚’ç¦ã˜ã¾ã™ã€‚

---

**ä½œæˆæ—¥**: 2025å¹´11æœˆ13æ—¥  
**ä½œæˆè€…**: AI Assistant  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
